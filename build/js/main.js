"use strict";function closeModal(){document.getElementsByClassName("modal-wrap_active")[0].classList.remove("modal-wrap_active"),document.getElementsByClassName("blur")[0].classList.remove("blur")}document.addEventListener("DOMContentLoaded",function(){var m=document.getElementsByClassName("knob__control")[0],p=document.getElementsByClassName("knob__value")[0],g=Array.from(document.getElementsByClassName("tick")),v=300,h=228,y=30,x=function(){for(var e=["transform","msTransform","webkitTransform","mozTransform","oTransform"],t=0;t<e.length;t++){var r=e[t];if(void 0!==document.body.style[r])return r}}();function n(e){return h=e&&h+2<=v?h+2:!e&&0<=h-2?h-2:h,function(){m.style[x]="rotate("+h+"deg)";var e=!0,t=!1,r=void 0;try{for(var n,i=g[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var s=n.value;s.classList.remove("active")}}catch(e){t=!0,r=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw r}}var o=Math.floor(h/2.381),a=!0,l=!1,c=void 0;try{for(var d,u=g.slice(0,o)[Symbol.iterator]();!(a=(d=u.next()).done);a=!0){var f=d.value;f.classList.add("active")}}catch(e){l=!0,c=e}finally{try{!a&&u.return&&u.return()}finally{if(l)throw c}}p.innerHTML="+"+Math.ceil(y/100*Math.round(h/v*100))}()}var r=document.getElementsByClassName("knob")[0];r.onmousedown=function(e){var r=e.pageX;document.onmousemove=function(e){e.pageX>r?n(!0):n(!1),r=e.pageX;var t=document.getElementsByClassName("knob")[0];document.onmouseup=function(){document.onmousemove=null,t.onmouseup=null},m.ondragstart=function(){return!1}}},r.ontouchstart=function(e){var t=e.changedTouches[0].pageX;r.ontouchmove=function(e){e.changedTouches[0].pageX>t?n(!0):n(!1),t=e.changedTouches[0].pageX}}},!1),document.addEventListener("DOMContentLoaded",function(){for(var e=document.getElementsByClassName("device-filter__item"),t=0;t<e.length;t++)e[t].addEventListener("click",function(){var e=document.getElementsByClassName("device-filter__item");if(console.log(e),this.classList.contains("device-filter__item_active"))if(console.log("active"),console.log(this),this.classList.contains("device-filter__item_show")){console.log("true");for(var t=0;t<e.length;t++)e[t].classList.remove("device-filter__item_show")}else{console.log("false");for(t=0;t<e.length;t++)e[t].classList.add("device-filter__item_show")}else{document.getElementsByClassName("device-filter__item_active")[0].classList.remove("device-filter__item_active"),this.classList.add("device-filter__item_active");for(t=0;t<e.length;t++)e[t].classList.remove("device-filter__item_show")}})},!1),document.addEventListener("DOMContentLoaded",function(){for(var r=document.getElementsByClassName("modal-trigger"),e=function(t){r[t].addEventListener("click",function(){var e=String(r[t].getAttribute("data-modal"));document.getElementsByClassName(e)[0].classList.add("modal-wrap_active"),document.getElementsByClassName("wrap")[0].classList.add("blur")})},t=0;t<r.length;t++)e(t)},!1),function(){function e(e,t){return[].slice.call((t||document).querySelectorAll(e))}if(window.addEventListener){var d=window.StyleFix={link:function(r){var t=r.href||r.getAttribute("data-href");try{if(!t||"stylesheet"!==r.rel||r.hasAttribute("data-noprefix"))return}catch(e){return}var n,i=t.replace(/[^\/]+$/,""),s=(/^[a-z]{3,10}:/.exec(i)||[""])[0],o=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(i)||[""])[0],a=/^([^?]*)\??/.exec(t)[1],l=r.parentNode,c=new XMLHttpRequest;c.onreadystatechange=function(){4===c.readyState&&n()},n=function(){if((e=c.responseText)&&r.parentNode&&(!c.status||c.status<400||600<c.status)){if((e=d.fix(e,!0,r))&&i){var e=e.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(e,t,r){return/^([a-z]{3,10}:|#)/i.test(r)?e:/^\/\//.test(r)?'url("'+s+r+'")':/^\//.test(r)?'url("'+o+r+'")':/^\?/.test(r)?'url("'+a+r+'")':'url("'+i+r+'")'}),t=i.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1");e=e.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+t,"gi"),"$1")}(t=document.createElement("style")).textContent="/*# sourceURL="+r.getAttribute("href")+" */\n/*@ sourceURL="+r.getAttribute("href")+" */\n"+e,t.media=r.media,t.disabled=r.disabled,t.setAttribute("data-href",r.getAttribute("href")),r.id&&(t.id=r.id),l.insertBefore(t,r),l.removeChild(r),t.media=r.media}};try{c.open("GET",t),c.send(null)}catch(e){"undefined"!=typeof XDomainRequest&&((c=new XDomainRequest).onerror=c.onprogress=function(){},c.onload=n,c.open("GET",t),c.send(null))}r.setAttribute("data-inprogress","")},styleElement:function(e){if(!e.hasAttribute("data-noprefix")){var t=e.disabled;e.textContent=d.fix(e.textContent,!0,e),e.disabled=t}},styleAttribute:function(e){var t=e.getAttribute("style");t=d.fix(t,!1,e);e.setAttribute("style",t)},process:function(){e('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),e("style").forEach(StyleFix.styleElement),e("[style]").forEach(StyleFix.styleAttribute)},register:function(e,t){(d.fixers=d.fixers||[]).splice(void 0===t?d.fixers.length:t,0,e)},fix:function(e,t,r){if(d.fixers)for(var n=0;n<d.fixers.length;n++)e=d.fixers[n](e,t,r)||e;return e},camelCase:function(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}).replace("-","")},deCamelCase:function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}};setTimeout(function(){e('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)}}(),function(l){function s(e,t,r,n,i){return(e=c[e]).length&&(e=RegExp(t+"("+e.join("|")+")"+r,"gi"),i=i.replace(e,n)),i}if(window.StyleFix&&window.getComputedStyle){var c=window.PrefixFree={prefixCSS:function(e,t,r){var n=c.prefix;if(-1<c.functions.indexOf("linear-gradient")&&(e=e.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,function(e,t,r,n){return t+(r||"")+"linear-gradient("+(90-n)+"deg"})),e=s("functions","(\\s|:|,)","\\s*\\(","$1"+n+"$2(",e),e=s("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+n+"$2$3",e),e=s("properties","(^|\\{|\\s|;)","\\s*:","$1"+n+"$2:",e),c.properties.length){var i=RegExp("\\b("+c.properties.join("|")+")(?!:)","gi");e=s("valueProperties","\\b",":(.+?);",function(e){return e.replace(i,n+"$1")},e)}return t&&(e=s("selectors","","\\b",c.prefixSelector,e),e=s("atrules","@","\\b","@"+n+"$1",e)),(e=e.replace(RegExp("-"+n,"g"),"-")).replace(/-\*-(?=[a-z]+)/gi,c.prefix)},property:function(e){return(0<=c.properties.indexOf(e)?c.prefix:"")+e},value:function(e,t){return e=s("functions","(^|\\s|,)","\\s*\\(","$1"+c.prefix+"$2(",e),e=s("keywords","(^|\\s)","(\\s|$)","$1"+c.prefix+"$2$3",e),0<=c.valueProperties.indexOf(t)&&(e=s("properties","(^|\\s|,)","($|\\s|,)","$1"+c.prefix+"$2$3",e)),e},prefixSelector:function(e){return c.selectorMap[e]||e},prefixProperty:function(e,t){var r=c.prefix+e;return t?StyleFix.camelCase(r):r}};!function(){var r={},n=[],e=getComputedStyle(document.documentElement,null),i=document.createElement("div").style,t=function(e){if("-"===e.charAt(0)){n.push(e);var t=(e=e.split("-"))[1];for(r[t]=++r[t]||1;3<e.length;)e.pop(),t=e.join("-"),StyleFix.camelCase(t)in i&&-1===n.indexOf(t)&&n.push(t)}};if(e&&0<e.length)for(var s=0;s<e.length;s++)t(e[s]);else for(var o in e)t(StyleFix.deCamelCase(o));var a,l;s=0;for(l in r)s<(e=r[l])&&(a=l,s=e);for(c.prefix="-"+a+"-",c.Prefix=StyleFix.camelCase(c.prefix),c.properties=[],s=0;s<n.length;s++)0===(o=n[s]).indexOf(c.prefix)&&(a=o.slice(c.prefix.length),StyleFix.camelCase(a)in i||c.properties.push(a));!("Ms"!=c.Prefix||"transform"in i||"MsTransform"in i)&&"msTransform"in i&&c.properties.push("transform","transform-origin"),c.properties.sort()}(),function(){function e(e,t){return i[t]="",i[t]=e,!!i[t]}var t={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"},"image-set":{property:"backgroundImage",params:"url(a.png) 1x, url(b.png) 2x"}};t["repeating-linear-gradient"]=t["repeating-radial-gradient"]=t["radial-gradient"]=t["linear-gradient"];var r={initial:"color",grab:"cursor",grabbing:"cursor","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","max-content":"width","min-content":"width","fit-content":"width","fill-available":"width","contain-floats":"width"};c.functions=[],c.keywords=[];var n,i=document.createElement("div").style;for(n in t){var s,o=(s=t[n]).property;!e(s=n+"("+s.params+")",o)&&e(c.prefix+s,o)&&c.functions.push(n)}for(var a in r)!e(a,o=r[a])&&e(c.prefix+a,o)&&c.keywords.push(a)}(),function(){function e(e){return i.textContent=e+"{}",!!i.sheet.cssRules.length}var t={":any-link":null,"::backdrop":null,":fullscreen":null,":full-screen":":fullscreen","::placeholder":null,":placeholder":"::placeholder","::input-placeholder":"::placeholder",":input-placeholder":"::placeholder",":read-only":null,":read-write":null,"::selection":null},r={keyframes:"name",viewport:null,document:'regexp(".")'};c.selectors=[],c.selectorMap={},c.atrules=[];var n,i=l.appendChild(document.createElement("style"));for(n in t){var s=t[n]||n,o=n.replace(/::?/,function(e){return e+c.prefix});!e(s)&&e(o)&&(c.selectors.push(s),c.selectorMap[s]=o)}for(var a in r)!e("@"+(t=a+" "+(r[a]||"")))&&e("@"+c.prefix+t)&&c.atrules.push(a);l.removeChild(i)}(),c.valueProperties=["transition","transition-property","will-change"],l.className+=" "+c.prefix,StyleFix.register(c.prefixCSS)}}(document.documentElement);var container=void 0,step=void 0,promStep=void 0,nextPosition=void 0;function scrollNext(e,t){container=document.getElementsByClassName(e)[0],step=container.hasAttribute("offset")?container.clientWidth-parseInt(container.getAttribute("offset")):container.clientWidth,promStep=Math.ceil(container.scrollLeft/step),nextPosition=Number.isInteger(Math.ceil(container.scrollLeft)/step)?(promStep+1)*step:promStep*step,container.scrollLeft=nextPosition}function scrollPrev(e){container=document.getElementsByClassName(e)[0],step=container.hasAttribute("offset")?container.clientWidth-parseInt(container.getAttribute("offset")):container.clientWidth,promStep=Math.floor(container.scrollLeft/step),nextPosition=Number.isInteger(container.scrollLeft/step)?(promStep-1)*step:promStep*step,container.scrollLeft=nextPosition}function filterSelection(e){var t,r;for(t=document.getElementsByClassName("card_horisontal-filter"),"all"==e&&(e=""),r=0;r<t.length;r++)w3RemoveClass(t[r],"card_horisontal-filter-show"),-1<t[r].className.indexOf(e)&&w3AddClass(t[r],"card_horisontal-filter-show")}function w3AddClass(e,t){var r,n,i;for(n=e.className.split(" "),i=t.split(" "),r=0;r<i.length;r++)-1==n.indexOf(i[r])&&(e.className+=" "+i[r])}function w3RemoveClass(e,t){var r,n,i;for(n=e.className.split(" "),i=t.split(" "),r=0;r<i.length;r++)for(;-1<n.indexOf(i[r]);)n.splice(n.indexOf(i[r]),1);e.className=n.join(" ")}document.addEventListener("DOMContentLoaded",function(){for(var s=document.getElementsByClassName("scroll-block"),e=function(e){var t=s[e],r=Array.prototype.slice.call(document.getElementsByClassName(String(t.dataset.controls))),n=r[0].getElementsByClassName("scroll-control__next")[0].getElementsByClassName("svg-scroll-arrow")[0],i=r[0].getElementsByClassName("scroll-control__prev")[0].getElementsByClassName("svg-scroll-arrow")[0];t.scrollWidth==t.clientWidth&&r[0].remove(),s[e].onscroll=function(){this.scrollWidth==this.scrollLeft+this.clientWidth?(n.classList.remove("svg-scroll-arrow_active"),i.classList.add("svg-scroll-arrow_active")):0==this.scrollLeft?(n.classList.add("svg-scroll-arrow_active"),i.classList.remove("svg-scroll-arrow_active")):(n.classList.add("svg-scroll-arrow_active"),i.classList.add("svg-scroll-arrow_active"))}},t=0;t<s.length;t++)e(t);document.getElementsByClassName("favor-cards")[0].onscroll=function(){var e=document.getElementsByClassName("arrow-reminder")[0];0==this.scrollTop?e.classList.remove("arrow-reminder_inactive"):e.classList.add("arrow-reminder_inactive")}},!1),filterSelection("all"),document.addEventListener("DOMContentLoaded",function(){for(var e=document.getElementsByClassName("select-filter__item"),t=0;t<e.length;t++)e[t].addEventListener("click",function(){this.parentElement.getElementsByClassName("select-filter__item_active")[0].classList.remove("select-filter__item_active"),this.classList.add("select-filter__item_active")})},!1);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtub2ItbWluLmpzIiwibW9kYWwuanMiLCJtb2JpbGUtc2VsZWN0LmpzIiwicHJlZml4LmpzIiwic2Nyb2xsLmpzIiwic2VsZWN0LmpzIl0sIm5hbWVzIjpbImNsb3NlTW9kYWwiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwia25vYiIsImN1cnIiLCJ0aWNrcyIsIkFycmF5IiwiZnJvbSIsIm1heCIsImFuZ2xlIiwibWF4dGVtcCIsInRyYW5zZm9ybSIsIl9hcnIiLCJfaSIsImxlbmd0aCIsInByb3AiLCJib2R5Iiwic3R5bGUiLCJ0dXJudFVwIiwiYm9vbCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwidW5kZWZpbmVkIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm5leHQiLCJkb25lIiwidGljayIsInZhbHVlIiwiZXJyIiwicmV0dXJuIiwiYWN0aXZlcyIsIk1hdGgiLCJmbG9vciIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yIiwiX2RpZEl0ZXJhdG9yRXJyb3IyIiwiX2l0ZXJhdG9yRXJyb3IyIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsInNsaWNlIiwiX3RpY2siLCJhZGQiLCJpbm5lckhUTUwiLCJjZWlsIiwicm91bmQiLCJzZXRBbmdsZSIsImtub2JhcmVhIiwib25tb3VzZWRvd24iLCJlIiwic3RhcnQiLCJwYWdlWCIsIm9ubW91c2Vtb3ZlIiwib25tb3VzZXVwIiwib25kcmFnc3RhcnQiLCJvbnRvdWNoc3RhcnQiLCJjaGFuZ2VkVG91Y2hlcyIsIm9udG91Y2htb3ZlIiwiYnRucyIsImkiLCJzaG93aXRlbXMiLCJjb25zb2xlIiwibG9nIiwidGhpcyIsImNvbnRhaW5zIiwiZCIsInRyaWdnZXJzIiwiX2xvb3AiLCJtb2RhbENsYXNzIiwiU3RyaW5nIiwiZ2V0QXR0cmlidXRlIiwibSIsImEiLCJiIiwiY2FsbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ3aW5kb3ciLCJTdHlsZUZpeCIsImxpbmsiLCJocmVmIiwicmVsIiwiaGFzQXR0cmlidXRlIiwicCIsImwiLCJyZXBsYWNlIiwiZiIsImV4ZWMiLCJoIiwiayIsImciLCJwYXJlbnROb2RlIiwiYyIsIlhNTEh0dHBSZXF1ZXN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInJlc3BvbnNlVGV4dCIsInN0YXR1cyIsImZpeCIsInRlc3QiLCJuIiwiUmVnRXhwIiwiY3JlYXRlRWxlbWVudCIsInRleHRDb250ZW50IiwibWVkaWEiLCJkaXNhYmxlZCIsInNldEF0dHJpYnV0ZSIsImlkIiwiaW5zZXJ0QmVmb3JlIiwicmVtb3ZlQ2hpbGQiLCJvcGVuIiwic2VuZCIsIlhEb21haW5SZXF1ZXN0Iiwib25lcnJvciIsIm9ucHJvZ3Jlc3MiLCJvbmxvYWQiLCJzdHlsZUVsZW1lbnQiLCJzdHlsZUF0dHJpYnV0ZSIsInByb2Nlc3MiLCJmb3JFYWNoIiwicmVnaXN0ZXIiLCJmaXhlcnMiLCJzcGxpY2UiLCJjYW1lbENhc2UiLCJ0b1VwcGVyQ2FzZSIsImRlQ2FtZWxDYXNlIiwidG9Mb3dlckNhc2UiLCJzZXRUaW1lb3V0Iiwiam9pbiIsImdldENvbXB1dGVkU3R5bGUiLCJQcmVmaXhGcmVlIiwicHJlZml4Q1NTIiwicHJlZml4IiwiZnVuY3Rpb25zIiwiaW5kZXhPZiIsInByb3BlcnRpZXMiLCJwcmVmaXhTZWxlY3RvciIsInByb3BlcnR5IiwidmFsdWVQcm9wZXJ0aWVzIiwic2VsZWN0b3JNYXAiLCJwcmVmaXhQcm9wZXJ0eSIsImRvY3VtZW50RWxlbWVudCIsImNoYXJBdCIsInB1c2giLCJzcGxpdCIsInBvcCIsIlByZWZpeCIsInNvcnQiLCJsaW5lYXItZ3JhZGllbnQiLCJwYXJhbXMiLCJjYWxjIiwiZWxlbWVudCIsImNyb3NzLWZhZGUiLCJpbWFnZS1zZXQiLCJpbml0aWFsIiwiZ3JhYiIsImdyYWJiaW5nIiwiem9vbS1pbiIsInpvb20tb3V0IiwiYm94IiwiZmxleGJveCIsImlubGluZS1mbGV4Ym94IiwiZmxleCIsImlubGluZS1mbGV4IiwiZ3JpZCIsImlubGluZS1ncmlkIiwibWF4LWNvbnRlbnQiLCJtaW4tY29udGVudCIsImZpdC1jb250ZW50IiwiZmlsbC1hdmFpbGFibGUiLCJjb250YWluLWZsb2F0cyIsImtleXdvcmRzIiwic2hlZXQiLCJjc3NSdWxlcyIsIjphbnktbGluayIsIjo6YmFja2Ryb3AiLCI6ZnVsbHNjcmVlbiIsIjpmdWxsLXNjcmVlbiIsIjo6cGxhY2Vob2xkZXIiLCI6cGxhY2Vob2xkZXIiLCI6OmlucHV0LXBsYWNlaG9sZGVyIiwiOmlucHV0LXBsYWNlaG9sZGVyIiwiOnJlYWQtb25seSIsIjpyZWFkLXdyaXRlIiwiOjpzZWxlY3Rpb24iLCJrZXlmcmFtZXMiLCJ2aWV3cG9ydCIsInNlbGVjdG9ycyIsImF0cnVsZXMiLCJhcHBlbmRDaGlsZCIsImNsYXNzTmFtZSIsImNvbnRhaW5lciIsInN0ZXAiLCJwcm9tU3RlcCIsIm5leHRQb3NpdGlvbiIsInNjcm9sbE5leHQiLCJibG9jayIsImVsZW0iLCJjbGllbnRXaWR0aCIsInBhcnNlSW50Iiwic2Nyb2xsTGVmdCIsIk51bWJlciIsImlzSW50ZWdlciIsInNjcm9sbFByZXYiLCJmaWx0ZXJTZWxlY3Rpb24iLCJ4IiwidzNSZW1vdmVDbGFzcyIsInczQWRkQ2xhc3MiLCJuYW1lIiwiYXJyMSIsImFycjIiLCJzY3JvbGxCbG9ja3MiLCJzY3JvbGxCbG9jayIsImNvbnRyb2xzIiwicHJvdG90eXBlIiwiZGF0YXNldCIsInByZXYiLCJzY3JvbGxXaWR0aCIsIm9uc2Nyb2xsIiwicmVtaW5kZXIiLCJzY3JvbGxUb3AiLCJwYXJlbnRFbGVtZW50Il0sIm1hcHBpbmdzIjoiQUFBQSxhQ2tCQSxTQUFBQSxhQUNBQyxTQUFBQyx1QkFBQSxxQkFBQSxHQUFBQyxVQUFBQyxPQUFBLHFCQUNBSCxTQUFBQyx1QkFBQSxRQUFB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NUIsVUFBQUMsT0FBQSwyQkFDQXdOLEVBQUF6TixVQUFBNEMsSUFBQSw0QkFDQSxHQUFBcUIsS0FBQXdJLFlBQ0E3SyxFQUFBNUIsVUFBQTRDLElBQUEsMkJBQ0E2SyxFQUFBek4sVUFBQUMsT0FBQSw2QkFFQTJCLEVBQUE1QixVQUFBNEMsSUFBQSwyQkFDQTZLLEVBQUF6TixVQUFBNEMsSUFBQSw4QkFLQWlCLEVBQUEsRUFBQUEsRUFBQXVKLEVBQUF0TSxPQUFBK0MsSUFDQVEsRUFBQVIsR0FJQS9ELFNBQUFDLHVCQUFBLGVBQUEsR0FBQTROLFNBQUEsV0FDQSxJQUFBQyxFQUFBOU4sU0FBQUMsdUJBQUEsa0JBQUEsR0FDQSxHQUFBa0UsS0FBQTRKLFVBQ0FELEVBQUE1TixVQUFBQyxPQUFBLDJCQUVBMk4sRUFBQTVOLFVBQUE0QyxJQUFBLDhCQUtBLEdDdkZBaUssZ0JBQUEsT0FzQ0EvTSxTQUFBSSxpQkFBQSxtQkFBQSxXQUVBLElBREEsSUFBQTBELEVBQUE5RCxTQUFBQyx1QkFBQSx1QkFDQThELEVBQUEsRUFBQUEsRUFBQUQsRUFBQTlDLE9BQUErQyxJQUNBRCxFQUFBQyxHQUFBM0QsaUJBQUEsUUFBQSxXQUNBK0QsS0FBQTZKLGNBQUEvTix1QkFBQSw4QkFBQSxHQUFBQyxVQUFBQyxPQUFBLDhCQUNBZ0UsS0FBQWpFLFVBQUE0QyxJQUFBLGtDQUdBIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIga25vYiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2tub2JfX2NvbnRyb2wnKVswXTtcbiAgICB2YXIgY3VyciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2tub2JfX3ZhbHVlJylbMF07XG4gICAgdmFyIHRpY2tzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0aWNrJykpO1xuXG4gICAgdmFyIG1pbiA9IDA7XG4gICAgdmFyIG1heCA9IDMwMDtcbiAgICB2YXIgYW5nbGUgPSAyMjg7XG4gICAgdmFyIG1heHRlbXAgPSAzMDtcbiAgICB2YXIgdHJhbnNmb3JtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2FyciA9IFsndHJhbnNmb3JtJywgJ21zVHJhbnNmb3JtJywgJ3dlYmtpdFRyYW5zZm9ybScsICdtb3pUcmFuc2Zvcm0nLCAnb1RyYW5zZm9ybSddO1xuXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBfYXJyLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHByb3AgPSBfYXJyW19pXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQuYm9keS5zdHlsZVtwcm9wXSAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSgpO1xuXG4gICAgZnVuY3Rpb24gdHVybnRVcChib29sKSB7XG4gICAgICAgIGFuZ2xlID0gYm9vbCAmJiBhbmdsZSArIDIgPD0gbWF4ID8gYW5nbGUgKyAyIDogIWJvb2wgJiYgYW5nbGUgLSAyID49IG1pbiA/IGFuZ2xlIC0gMiA6IGFuZ2xlO1xuICAgICAgICByZXR1cm4gc2V0QW5nbGUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRBbmdsZSgpIHtcbiAgICAgICAgLy8gcm90YXRlIGtub2JcbiAgICAgICAga25vYi5zdHlsZVt0cmFuc2Zvcm1dID0gJ3JvdGF0ZSgnICsgYW5nbGUgKyAnZGVnKSc7XG5cbiAgICAgICAgLy8gcXVpY2tseSByZXNldCB0aWNrc1xuICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRpY2tzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHZhciB0aWNrID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICB0aWNrLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhZGQgZ2xvdyB0byAnYWN0aXZlJyB0aWNrc1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFjdGl2ZXMgPSBNYXRoLmZsb29yKGFuZ2xlIC8gMi4zODEpO1xuICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSB0aWNrcy5zbGljZSgwLCBhY3RpdmVzKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBfdGljayA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgIF90aWNrLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB1cGRhdGUgJSB2YWx1ZSBhcyB0ZXh0XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY3Vyci5pbm5lckhUTUwgPSAnKycgKyBNYXRoLmNlaWwobWF4dGVtcCAvIDEwMCAqIE1hdGgucm91bmQoYW5nbGUgLyBtYXggKiAxMDApKTtcbiAgICB9XG5cbiAgICB2YXIga25vYmFyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdrbm9iJylbMF07XG5cbiAgICBrbm9iYXJlYS5vbm1vdXNlZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIC8vIDEuINC+0YLRgdC70LXQtNC40YLRjCDQvdCw0LbQsNGC0LjQtVxuICAgICAgICB2YXIgc3RhcnQgPSBlLnBhZ2VYO1xuICAgICAgICBkb2N1bWVudC5vbm1vdXNlbW92ZSA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgIGlmIChlLnBhZ2VYID4gc3RhcnQpIHtcbiAgICAgICAgICAgICAgICB0dXJudFVwKHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0dXJudFVwKGZhbHNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RhcnQgPSBlLnBhZ2VYO1xuICAgICAgICAgICAgdmFyIGtub2JhcmVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgna25vYicpWzBdO1xuICAgICAgICAgICAgZG9jdW1lbnQub25tb3VzZXVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBrbm9iYXJlYS5vbm1vdXNldXAgPSBudWxsO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAga25vYi5vbmRyYWdzdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBrbm9iYXJlYS5vbnRvdWNoc3RhcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgc3RhcnQgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYO1xuICAgICAgICBrbm9iYXJlYS5vbnRvdWNobW92ZSA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgIGlmIChlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYID4gc3RhcnQpIHtcbiAgICAgICAgICAgICAgICB0dXJudFVwKHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0dXJudFVwKGZhbHNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RhcnQgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYO1xuICAgICAgICB9OyAvLyAgIGFsZXJ0KGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVgpIC8vINC/0L7QutCw0Lcg0LrQvtGA0YDQtNC40L3QsNGCINC80LXRgdGC0LAg0L/RgNC40LrQvtGB0L3QvtCy0LXQvdC40Y8g0L/QviBYLdGDLlxuICAgIH07XG59LCBmYWxzZSk7XG5cbi8vIGZ1bmN0aW9uIGdldEN1ckNvb3Jkc0luc2lkZVJlY3QoZSkge1xuLy8gICAgIHZhciB4ID0gZS5vZmZzZXRYID09IHVuZGVmaW5lZCA/IGUubGF5ZXJYIDogZS5vZmZzZXRYO1xuLy8gICAgIHZhciB5ID0gZS5vZmZzZXRZID09IHVuZGVmaW5lZCA/IGUubGF5ZXJZIDogZS5vZmZzZXRZO1xuXG4vLyAgICAgYWxlcnQoeCArICd4JyArIHkpO1xuLy8gfVxuXG4vLyBmdW5jdGlvbiBnZXRFbGVtZW50KGUsIGVsZW1lbnQpIHtcbi8vICAgICBnZXRDdXJDb29yZHNJbnNpZGVSZWN0KGUsIGVsZW1lbnQpO1xuLy8gfSIsIid1c2Ugc3RyaWN0JztcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdHJpZ2dlcnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtb2RhbC10cmlnZ2VyJyk7XG5cbiAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpKSB7XG4gICAgICAgIHRyaWdnZXJzW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbW9kYWxDbGFzcyA9IFN0cmluZyh0cmlnZ2Vyc1tpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbW9kYWwnKSk7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKG1vZGFsQ2xhc3MpWzBdLmNsYXNzTGlzdC5hZGQoJ21vZGFsLXdyYXBfYWN0aXZlJyk7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd3cmFwJylbMF0uY2xhc3NMaXN0LmFkZCgnYmx1cicpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmlnZ2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBfbG9vcChpKTtcbiAgICB9XG59LCBmYWxzZSk7XG5cbmZ1bmN0aW9uIGNsb3NlTW9kYWwoKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbW9kYWwtd3JhcF9hY3RpdmUnKVswXS5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC13cmFwX2FjdGl2ZScpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2JsdXInKVswXS5jbGFzc0xpc3QucmVtb3ZlKCdibHVyJyk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGJ0bnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZGV2aWNlLWZpbHRlcl9faXRlbVwiKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ0bnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYnRuc1tpXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNob3dpdGVtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJkZXZpY2UtZmlsdGVyX19pdGVtXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coc2hvd2l0ZW1zKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucyhcImRldmljZS1maWx0ZXJfX2l0ZW1fYWN0aXZlXCIpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucyhcImRldmljZS1maWx0ZXJfX2l0ZW1fc2hvd1wiKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInRydWVcIik7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgc2hvd2l0ZW1zLmxlbmd0aDsgZCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93aXRlbXNbZF0uY2xhc3NMaXN0LnJlbW92ZShcImRldmljZS1maWx0ZXJfX2l0ZW1fc2hvd1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmFsc2VcIik7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgc2hvd2l0ZW1zLmxlbmd0aDsgZCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93aXRlbXNbZF0uY2xhc3NMaXN0LmFkZChcImRldmljZS1maWx0ZXJfX2l0ZW1fc2hvd1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImRldmljZS1maWx0ZXJfX2l0ZW1fYWN0aXZlXCIpWzBdLmNsYXNzTGlzdC5yZW1vdmUoXCJkZXZpY2UtZmlsdGVyX19pdGVtX2FjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoXCJkZXZpY2UtZmlsdGVyX19pdGVtX2FjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IHNob3dpdGVtcy5sZW5ndGg7IGQrKykge1xuICAgICAgICAgICAgICAgICAgICBzaG93aXRlbXNbZF0uY2xhc3NMaXN0LnJlbW92ZShcImRldmljZS1maWx0ZXJfX2l0ZW1fc2hvd1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn0sIGZhbHNlKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBTdHlsZUZpeCAxLjAuMyAmIFByZWZpeEZyZWUgMS4wLjdcbiAqIEBhdXRob3IgTGVhIFZlcm91XG4gKiBNSVQgbGljZW5zZVxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG0oYSwgYikge1xuICAgICAgICByZXR1cm4gW10uc2xpY2UuY2FsbCgoYiB8fCBkb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChhKSk7XG4gICAgfVxuICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICB2YXIgZSA9IHdpbmRvdy5TdHlsZUZpeCA9IHtcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoYSkge1xuICAgICAgICAgICAgICAgIHZhciBiID0gYS5ocmVmIHx8IGEuZ2V0QXR0cmlidXRlKFwiZGF0YS1ocmVmXCIpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYiB8fCBcInN0eWxlc2hlZXRcIiAhPT0gYS5yZWwgfHwgYS5oYXNBdHRyaWJ1dGUoXCJkYXRhLW5vcHJlZml4XCIpKSByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAocCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBkID0gYi5yZXBsYWNlKC9bXlxcL10rJC8sIFwiXCIpLFxuICAgICAgICAgICAgICAgICAgICBmID0gKC9eW2Etel17MywxMH06Ly5leGVjKGQpIHx8IFtcIlwiXSlbMF0sXG4gICAgICAgICAgICAgICAgICAgIGggPSAoL15bYS16XXszLDEwfTpcXC9cXC9bXlxcL10rLy5leGVjKGQpIHx8IFtcIlwiXSlbMF0sXG4gICAgICAgICAgICAgICAgICAgIGsgPSAvXihbXj9dKilcXD8/Ly5leGVjKGIpWzFdLFxuICAgICAgICAgICAgICAgICAgICBnID0gYS5wYXJlbnROb2RlLFxuICAgICAgICAgICAgICAgICAgICBjID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCksXG4gICAgICAgICAgICAgICAgICAgIGw7XG4gICAgICAgICAgICAgICAgYy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIDQgPT09IGMucmVhZHlTdGF0ZSAmJiBsKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBsID0gZnVuY3Rpb24gbCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSBjLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGIgJiYgYS5wYXJlbnROb2RlICYmICghYy5zdGF0dXMgfHwgNDAwID4gYy5zdGF0dXMgfHwgNjAwIDwgYy5zdGF0dXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGIgPSBlLmZpeChiLCAhMCwgYSkpICYmIGQpIHZhciBiID0gYi5yZXBsYWNlKC91cmxcXChcXHMqPygoPzpcInwnKT8pKC4rPylcXDFcXHMqP1xcKS9naSwgZnVuY3Rpb24gKGIsIGEsIGMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC9eKFthLXpdezMsMTB9OnwjKS9pLnRlc3QoYykgPyBiIDogL15cXC9cXC8vLnRlc3QoYykgPyAndXJsKFwiJyArIGYgKyBjICsgJ1wiKScgOiAvXlxcLy8udGVzdChjKSA/ICd1cmwoXCInICsgaCArIGMgKyAnXCIpJyA6IC9eXFw/Ly50ZXN0KGMpID8gJ3VybChcIicgKyBrICsgYyArICdcIiknIDogJ3VybChcIicgKyBkICsgYyArICdcIiknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBkLnJlcGxhY2UoLyhbXFxcXFxcXlxcJCorW1xcXT97fS49IToofCldKS9nLCBcIlxcXFwkMVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiID0gYi5yZXBsYWNlKFJlZ0V4cChcIlxcXFxiKGJlaGF2aW9yOlxcXFxzKj91cmxcXFxcKCc/XFxcIj8pXCIgKyBuLCBcImdpXCIpLCBcIiQxXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG4udGV4dENvbnRlbnQgPSBcIi8qIyBzb3VyY2VVUkw9XCIgKyBhLmdldEF0dHJpYnV0ZShcImhyZWZcIikgKyBcIiAqL1xcbi8qQCBzb3VyY2VVUkw9XCIgKyBhLmdldEF0dHJpYnV0ZShcImhyZWZcIikgKyBcIiAqL1xcblwiICsgYjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG4ubWVkaWEgPSBhLm1lZGlhO1xuICAgICAgICAgICAgICAgICAgICAgICAgbi5kaXNhYmxlZCA9IGEuZGlzYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBuLnNldEF0dHJpYnV0ZShcImRhdGEtaHJlZlwiLCBhLmdldEF0dHJpYnV0ZShcImhyZWZcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5pZCAmJiAobi5pZCA9IGEuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZy5pbnNlcnRCZWZvcmUobiwgYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBnLnJlbW92ZUNoaWxkKGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbi5tZWRpYSA9IGEubWVkaWE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGMub3BlbihcIkdFVFwiLCBiKSwgYy5zZW5kKG51bGwpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHApIHtcbiAgICAgICAgICAgICAgICAgICAgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgWERvbWFpblJlcXVlc3QgJiYgKGMgPSBuZXcgWERvbWFpblJlcXVlc3QoKSwgYy5vbmVycm9yID0gYy5vbnByb2dyZXNzID0gZnVuY3Rpb24gKCkge30sIGMub25sb2FkID0gbCwgYy5vcGVuKFwiR0VUXCIsIGIpLCBjLnNlbmQobnVsbCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhLnNldEF0dHJpYnV0ZShcImRhdGEtaW5wcm9ncmVzc1wiLCBcIlwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHlsZUVsZW1lbnQ6IGZ1bmN0aW9uIHN0eWxlRWxlbWVudChhKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFhLmhhc0F0dHJpYnV0ZShcImRhdGEtbm9wcmVmaXhcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSBhLmRpc2FibGVkO1xuICAgICAgICAgICAgICAgICAgICBhLnRleHRDb250ZW50ID0gZS5maXgoYS50ZXh0Q29udGVudCwgITAsIGEpO1xuICAgICAgICAgICAgICAgICAgICBhLmRpc2FibGVkID0gYjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3R5bGVBdHRyaWJ1dGU6IGZ1bmN0aW9uIHN0eWxlQXR0cmlidXRlKGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgYiA9IGEuZ2V0QXR0cmlidXRlKFwic3R5bGVcIiksXG4gICAgICAgICAgICAgICAgICAgIGIgPSBlLmZpeChiLCAhMSwgYSk7XG4gICAgICAgICAgICAgICAgYS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcm9jZXNzOiBmdW5jdGlvbiBwcm9jZXNzKCkge1xuICAgICAgICAgICAgICAgIG0oJ2xpbmtbcmVsPVwic3R5bGVzaGVldFwiXTpub3QoW2RhdGEtaW5wcm9ncmVzc10pJykuZm9yRWFjaChTdHlsZUZpeC5saW5rKTtcbiAgICAgICAgICAgICAgICBtKFwic3R5bGVcIikuZm9yRWFjaChTdHlsZUZpeC5zdHlsZUVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIG0oXCJbc3R5bGVdXCIpLmZvckVhY2goU3R5bGVGaXguc3R5bGVBdHRyaWJ1dGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcihhLCBiKSB7XG4gICAgICAgICAgICAgICAgKGUuZml4ZXJzID0gZS5maXhlcnMgfHwgW10pLnNwbGljZSh2b2lkIDAgPT09IGIgPyBlLmZpeGVycy5sZW5ndGggOiBiLCAwLCBhKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaXg6IGZ1bmN0aW9uIGZpeChhLCBiLCBkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUuZml4ZXJzKSBmb3IgKHZhciBmID0gMDsgZiA8IGUuZml4ZXJzLmxlbmd0aDsgZisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGEgPSBlLmZpeGVyc1tmXShhLCBiLCBkKSB8fCBhO1xuICAgICAgICAgICAgICAgIH1yZXR1cm4gYTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW1lbENhc2U6IGZ1bmN0aW9uIGNhbWVsQ2FzZShhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEucmVwbGFjZSgvLShbYS16XSkvZywgZnVuY3Rpb24gKGIsIGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9KS5yZXBsYWNlKFwiLVwiLCBcIlwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZUNhbWVsQ2FzZTogZnVuY3Rpb24gZGVDYW1lbENhc2UoYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhLnJlcGxhY2UoL1tBLVpdL2csIGZ1bmN0aW9uIChiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIi1cIiArIGIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIG0oJ2xpbmtbcmVsPVwic3R5bGVzaGVldFwiXScpLmZvckVhY2goU3R5bGVGaXgubGluayk7XG4gICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBTdHlsZUZpeC5wcm9jZXNzLCAhMSk7XG4gICAgICAgIH0pKCk7XG4gICAgfVxufSkoKTtcbihmdW5jdGlvbiAobSkge1xuICAgIGZ1bmN0aW9uIGUoYiwgZCwgZiwgaCwgaykge1xuICAgICAgICBiID0gYVtiXTtcbiAgICAgICAgYi5sZW5ndGggJiYgKGIgPSBSZWdFeHAoZCArIFwiKFwiICsgYi5qb2luKFwifFwiKSArIFwiKVwiICsgZiwgXCJnaVwiKSwgayA9IGsucmVwbGFjZShiLCBoKSk7cmV0dXJuIGs7XG4gICAgfVxuICAgIGlmICh3aW5kb3cuU3R5bGVGaXggJiYgd2luZG93LmdldENvbXB1dGVkU3R5bGUpIHtcbiAgICAgICAgdmFyIGEgPSB3aW5kb3cuUHJlZml4RnJlZSA9IHtcbiAgICAgICAgICAgIHByZWZpeENTUzogZnVuY3Rpb24gcHJlZml4Q1NTKGIsIGQsIGYpIHtcbiAgICAgICAgICAgICAgICB2YXIgaCA9IGEucHJlZml4Oy0xIDwgYS5mdW5jdGlvbnMuaW5kZXhPZihcImxpbmVhci1ncmFkaWVudFwiKSAmJiAoYiA9IGIucmVwbGFjZSgvKFxcc3w6fCwpKHJlcGVhdGluZy0pP2xpbmVhci1ncmFkaWVudFxcKFxccyooLT9cXGQqXFwuP1xcZCopZGVnL2lnLCBmdW5jdGlvbiAoYiwgYSwgZCwgZikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSArIChkIHx8IFwiXCIpICsgXCJsaW5lYXItZ3JhZGllbnQoXCIgKyAoOTAgLSBmKSArIFwiZGVnXCI7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGIgPSBlKFwiZnVuY3Rpb25zXCIsIFwiKFxcXFxzfDp8LClcIiwgXCJcXFxccypcXFxcKFwiLCBcIiQxXCIgKyBoICsgXCIkMihcIiwgYik7XG4gICAgICAgICAgICAgICAgYiA9IGUoXCJrZXl3b3Jkc1wiLCBcIihcXFxcc3w6KVwiLCBcIihcXFxcc3w7fFxcXFx9fCQpXCIsIFwiJDFcIiArIGggKyBcIiQyJDNcIiwgYik7XG4gICAgICAgICAgICAgICAgYiA9IGUoXCJwcm9wZXJ0aWVzXCIsIFwiKF58XFxcXHt8XFxcXHN8OylcIiwgXCJcXFxccyo6XCIsIFwiJDFcIiArIGggKyBcIiQyOlwiLCBiKTtcbiAgICAgICAgICAgICAgICBpZiAoYS5wcm9wZXJ0aWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgayA9IFJlZ0V4cChcIlxcXFxiKFwiICsgYS5wcm9wZXJ0aWVzLmpvaW4oXCJ8XCIpICsgXCIpKD8hOilcIiwgXCJnaVwiKTtcbiAgICAgICAgICAgICAgICAgICAgYiA9IGUoXCJ2YWx1ZVByb3BlcnRpZXNcIiwgXCJcXFxcYlwiLCBcIjooLis/KTtcIiwgZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhLnJlcGxhY2UoaywgaCArIFwiJDFcIik7XG4gICAgICAgICAgICAgICAgICAgIH0sIGIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkICYmIChiID0gZShcInNlbGVjdG9yc1wiLCBcIlwiLCBcIlxcXFxiXCIsIGEucHJlZml4U2VsZWN0b3IsIGIpLCBiID0gZShcImF0cnVsZXNcIiwgXCJAXCIsIFwiXFxcXGJcIiwgXCJAXCIgKyBoICsgXCIkMVwiLCBiKSk7XG4gICAgICAgICAgICAgICAgYiA9IGIucmVwbGFjZShSZWdFeHAoXCItXCIgKyBoLCBcImdcIiksIFwiLVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYiA9IGIucmVwbGFjZSgvLVxcKi0oPz1bYS16XSspL2dpLCBhLnByZWZpeCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJvcGVydHk6IGZ1bmN0aW9uIHByb3BlcnR5KGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDAgPD0gYS5wcm9wZXJ0aWVzLmluZGV4T2YoYikgPyBhLnByZWZpeCA6IFwiXCIpICsgYjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoYiwgZCkge1xuICAgICAgICAgICAgICAgIGIgPSBlKFwiZnVuY3Rpb25zXCIsIFwiKF58XFxcXHN8LClcIiwgXCJcXFxccypcXFxcKFwiLCBcIiQxXCIgKyBhLnByZWZpeCArIFwiJDIoXCIsIGIpO1xuICAgICAgICAgICAgICAgIGIgPSBlKFwia2V5d29yZHNcIiwgXCIoXnxcXFxccylcIiwgXCIoXFxcXHN8JClcIiwgXCIkMVwiICsgYS5wcmVmaXggKyBcIiQyJDNcIiwgYik7XG4gICAgICAgICAgICAgICAgMCA8PSBhLnZhbHVlUHJvcGVydGllcy5pbmRleE9mKGQpICYmIChiID0gZShcInByb3BlcnRpZXNcIiwgXCIoXnxcXFxcc3wsKVwiLCBcIigkfFxcXFxzfCwpXCIsIFwiJDFcIiArIGEucHJlZml4ICsgXCIkMiQzXCIsIGIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcmVmaXhTZWxlY3RvcjogZnVuY3Rpb24gcHJlZml4U2VsZWN0b3IoYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhLnNlbGVjdG9yTWFwW2JdIHx8IGI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJlZml4UHJvcGVydHk6IGZ1bmN0aW9uIHByZWZpeFByb3BlcnR5KGIsIGQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZiA9IGEucHJlZml4ICsgYjtyZXR1cm4gZCA/IFN0eWxlRml4LmNhbWVsQ2FzZShmKSA6IGY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYiA9IHt9LFxuICAgICAgICAgICAgICAgIGQgPSBbXSxcbiAgICAgICAgICAgICAgICBmID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIG51bGwpLFxuICAgICAgICAgICAgICAgIGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLnN0eWxlLFxuICAgICAgICAgICAgICAgIGsgPSBmdW5jdGlvbiBrKGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoXCItXCIgPT09IGEuY2hhckF0KDApKSB7XG4gICAgICAgICAgICAgICAgICAgIGQucHVzaChhKTtcbiAgICAgICAgICAgICAgICAgICAgYSA9IGEuc3BsaXQoXCItXCIpO3ZhciBjID0gYVsxXTtmb3IgKGJbY10gPSArK2JbY10gfHwgMTsgMyA8IGEubGVuZ3RoOykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5wb3AoKSwgYyA9IGEuam9pbihcIi1cIiksIFN0eWxlRml4LmNhbWVsQ2FzZShjKSBpbiBoICYmIC0xID09PSBkLmluZGV4T2YoYykgJiYgZC5wdXNoKGMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChmICYmIDAgPCBmLmxlbmd0aCkgZm9yICh2YXIgZyA9IDA7IGcgPCBmLmxlbmd0aDsgZysrKSB7XG4gICAgICAgICAgICAgICAgayhmW2ddKTtcbiAgICAgICAgICAgIH0gZWxzZSBmb3IgKHZhciBjIGluIGYpIHtcbiAgICAgICAgICAgICAgICBrKFN0eWxlRml4LmRlQ2FtZWxDYXNlKGMpKTtcbiAgICAgICAgICAgIH12YXIgZyA9IDAsXG4gICAgICAgICAgICAgICAgZSxcbiAgICAgICAgICAgICAgICBwO1xuICAgICAgICAgICAgZm9yIChwIGluIGIpIHtcbiAgICAgICAgICAgICAgICBmID0gYltwXSwgZyA8IGYgJiYgKGUgPSBwLCBnID0gZik7XG4gICAgICAgICAgICB9YS5wcmVmaXggPSBcIi1cIiArIGUgKyBcIi1cIjtcbiAgICAgICAgICAgIGEuUHJlZml4ID0gU3R5bGVGaXguY2FtZWxDYXNlKGEucHJlZml4KTtcbiAgICAgICAgICAgIGEucHJvcGVydGllcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChnID0gMDsgZyA8IGQubGVuZ3RoOyBnKyspIHtcbiAgICAgICAgICAgICAgICBjID0gZFtnXSwgMCA9PT0gYy5pbmRleE9mKGEucHJlZml4KSAmJiAoZSA9IGMuc2xpY2UoYS5wcmVmaXgubGVuZ3RoKSwgU3R5bGVGaXguY2FtZWxDYXNlKGUpIGluIGggfHwgYS5wcm9wZXJ0aWVzLnB1c2goZSkpO1xuICAgICAgICAgICAgfSEoXCJNc1wiICE9IGEuUHJlZml4IHx8IFwidHJhbnNmb3JtXCIgaW4gaCB8fCBcIk1zVHJhbnNmb3JtXCIgaW4gaCkgJiYgXCJtc1RyYW5zZm9ybVwiIGluIGggJiYgYS5wcm9wZXJ0aWVzLnB1c2goXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2Zvcm0tb3JpZ2luXCIpO1xuICAgICAgICAgICAgYS5wcm9wZXJ0aWVzLnNvcnQoKTtcbiAgICAgICAgfSkoKTtcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGIoYSwgYikge1xuICAgICAgICAgICAgICAgIGVbYl0gPSBcIlwiO1xuICAgICAgICAgICAgICAgIGVbYl0gPSBhO3JldHVybiAhIWVbYl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZCA9IHsgXCJsaW5lYXItZ3JhZGllbnRcIjogeyBwcm9wZXJ0eTogXCJiYWNrZ3JvdW5kSW1hZ2VcIiwgcGFyYW1zOiBcInJlZCwgdGVhbFwiIH0sIGNhbGM6IHsgcHJvcGVydHk6IFwid2lkdGhcIiwgcGFyYW1zOiBcIjFweCArIDUlXCIgfSwgZWxlbWVudDogeyBwcm9wZXJ0eTogXCJiYWNrZ3JvdW5kSW1hZ2VcIiwgcGFyYW1zOiBcIiNmb29cIiB9LCBcImNyb3NzLWZhZGVcIjogeyBwcm9wZXJ0eTogXCJiYWNrZ3JvdW5kSW1hZ2VcIiwgcGFyYW1zOiBcInVybChhLnBuZyksIHVybChiLnBuZyksIDUwJVwiIH0sIFwiaW1hZ2Utc2V0XCI6IHsgcHJvcGVydHk6IFwiYmFja2dyb3VuZEltYWdlXCIsIHBhcmFtczogXCJ1cmwoYS5wbmcpIDF4LCB1cmwoYi5wbmcpIDJ4XCIgfSB9O1xuICAgICAgICAgICAgZFtcInJlcGVhdGluZy1saW5lYXItZ3JhZGllbnRcIl0gPSBkW1wicmVwZWF0aW5nLXJhZGlhbC1ncmFkaWVudFwiXSA9IGRbXCJyYWRpYWwtZ3JhZGllbnRcIl0gPSBkW1wibGluZWFyLWdyYWRpZW50XCJdO1xuICAgICAgICAgICAgdmFyIGYgPSB7IGluaXRpYWw6IFwiY29sb3JcIiwgZ3JhYjogXCJjdXJzb3JcIiwgZ3JhYmJpbmc6IFwiY3Vyc29yXCIsIFwiem9vbS1pblwiOiBcImN1cnNvclwiLCBcInpvb20tb3V0XCI6IFwiY3Vyc29yXCIsIGJveDogXCJkaXNwbGF5XCIsIGZsZXhib3g6IFwiZGlzcGxheVwiLCBcImlubGluZS1mbGV4Ym94XCI6IFwiZGlzcGxheVwiLCBmbGV4OiBcImRpc3BsYXlcIiwgXCJpbmxpbmUtZmxleFwiOiBcImRpc3BsYXlcIiwgZ3JpZDogXCJkaXNwbGF5XCIsIFwiaW5saW5lLWdyaWRcIjogXCJkaXNwbGF5XCIsIFwibWF4LWNvbnRlbnRcIjogXCJ3aWR0aFwiLCBcIm1pbi1jb250ZW50XCI6IFwid2lkdGhcIiwgXCJmaXQtY29udGVudFwiOiBcIndpZHRoXCIsIFwiZmlsbC1hdmFpbGFibGVcIjogXCJ3aWR0aFwiLCBcImNvbnRhaW4tZmxvYXRzXCI6IFwid2lkdGhcIiB9O1xuICAgICAgICAgICAgYS5mdW5jdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIGEua2V5d29yZHMgPSBbXTtcbiAgICAgICAgICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZSxcbiAgICAgICAgICAgICAgICBrO1xuICAgICAgICAgICAgZm9yIChrIGluIGQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZyA9IGRba10sXG4gICAgICAgICAgICAgICAgICAgIGMgPSBnLnByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICBnID0gayArIFwiKFwiICsgZy5wYXJhbXMgKyBcIilcIjshYihnLCBjKSAmJiBiKGEucHJlZml4ICsgZywgYykgJiYgYS5mdW5jdGlvbnMucHVzaChrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGwgaW4gZikge1xuICAgICAgICAgICAgICAgIGMgPSBmW2xdLCAhYihsLCBjKSAmJiBiKGEucHJlZml4ICsgbCwgYykgJiYgYS5rZXl3b3Jkcy5wdXNoKGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gYihhKSB7XG4gICAgICAgICAgICAgICAgaC50ZXh0Q29udGVudCA9IGEgKyBcInt9XCI7cmV0dXJuICEhaC5zaGVldC5jc3NSdWxlcy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZCA9IHtcbiAgICAgICAgICAgICAgICBcIjphbnktbGlua1wiOiBudWxsLFxuICAgICAgICAgICAgICAgIFwiOjpiYWNrZHJvcFwiOiBudWxsLFxuICAgICAgICAgICAgICAgIFwiOmZ1bGxzY3JlZW5cIjogbnVsbCxcbiAgICAgICAgICAgICAgICBcIjpmdWxsLXNjcmVlblwiOiBcIjpmdWxsc2NyZWVuXCIsXG4gICAgICAgICAgICAgICAgXCI6OnBsYWNlaG9sZGVyXCI6IG51bGwsXG4gICAgICAgICAgICAgICAgXCI6cGxhY2Vob2xkZXJcIjogXCI6OnBsYWNlaG9sZGVyXCIsXG4gICAgICAgICAgICAgICAgXCI6OmlucHV0LXBsYWNlaG9sZGVyXCI6IFwiOjpwbGFjZWhvbGRlclwiLFxuICAgICAgICAgICAgICAgIFwiOmlucHV0LXBsYWNlaG9sZGVyXCI6IFwiOjpwbGFjZWhvbGRlclwiLFxuICAgICAgICAgICAgICAgIFwiOnJlYWQtb25seVwiOiBudWxsLFxuICAgICAgICAgICAgICAgIFwiOnJlYWQtd3JpdGVcIjogbnVsbCxcbiAgICAgICAgICAgICAgICBcIjo6c2VsZWN0aW9uXCI6IG51bGxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZSA9IHsga2V5ZnJhbWVzOiBcIm5hbWVcIiwgdmlld3BvcnQ6IG51bGwsIGRvY3VtZW50OiAncmVnZXhwKFwiLlwiKScgfTtcbiAgICAgICAgICAgIGEuc2VsZWN0b3JzID0gW107XG4gICAgICAgICAgICBhLnNlbGVjdG9yTWFwID0ge307XG4gICAgICAgICAgICBhLmF0cnVsZXMgPSBbXTtcbiAgICAgICAgICAgIHZhciBoID0gbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIikpLFxuICAgICAgICAgICAgICAgIGs7XG4gICAgICAgICAgICBmb3IgKGsgaW4gZCkge1xuICAgICAgICAgICAgICAgIHZhciBnID0gZFtrXSB8fCBrLFxuICAgICAgICAgICAgICAgICAgICBjID0gay5yZXBsYWNlKC86Oj8vLCBmdW5jdGlvbiAoYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYiArIGEucHJlZml4O1xuICAgICAgICAgICAgICAgIH0pOyFiKGcpICYmIGIoYykgJiYgKGEuc2VsZWN0b3JzLnB1c2goZyksIGEuc2VsZWN0b3JNYXBbZ10gPSBjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGwgaW4gZSkge1xuICAgICAgICAgICAgICAgIGQgPSBsICsgXCIgXCIgKyAoZVtsXSB8fCBcIlwiKSwgIWIoXCJAXCIgKyBkKSAmJiBiKFwiQFwiICsgYS5wcmVmaXggKyBkKSAmJiBhLmF0cnVsZXMucHVzaChsKTtcbiAgICAgICAgICAgIH1tLnJlbW92ZUNoaWxkKGgpO1xuICAgICAgICB9KSgpO1xuICAgICAgICBhLnZhbHVlUHJvcGVydGllcyA9IFtcInRyYW5zaXRpb25cIiwgXCJ0cmFuc2l0aW9uLXByb3BlcnR5XCIsIFwid2lsbC1jaGFuZ2VcIl07XG4gICAgICAgIG0uY2xhc3NOYW1lICs9IFwiIFwiICsgYS5wcmVmaXg7XG4gICAgICAgIFN0eWxlRml4LnJlZ2lzdGVyKGEucHJlZml4Q1NTKTtcbiAgICB9XG59KShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNvbnRhaW5lciA9IHZvaWQgMDtcbnZhciBzdGVwID0gdm9pZCAwO1xudmFyIHByb21TdGVwID0gdm9pZCAwO1xudmFyIG5leHRQb3NpdGlvbiA9IHZvaWQgMDtcblxuZnVuY3Rpb24gc2Nyb2xsTmV4dChibG9jaywgZWxlbSkge1xuXG4gICAgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShibG9jaylbMF07XG5cbiAgICBpZiAoY29udGFpbmVyLmhhc0F0dHJpYnV0ZSgnb2Zmc2V0JykpIHtcbiAgICAgICAgc3RlcCA9IGNvbnRhaW5lci5jbGllbnRXaWR0aCAtIHBhcnNlSW50KGNvbnRhaW5lci5nZXRBdHRyaWJ1dGUoJ29mZnNldCcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzdGVwID0gY29udGFpbmVyLmNsaWVudFdpZHRoO1xuICAgIH1cbiAgICBwcm9tU3RlcCA9IE1hdGguY2VpbChjb250YWluZXIuc2Nyb2xsTGVmdCAvIHN0ZXApO1xuXG4gICAgaWYgKE51bWJlci5pc0ludGVnZXIoTWF0aC5jZWlsKGNvbnRhaW5lci5zY3JvbGxMZWZ0KSAvIHN0ZXApKSB7XG4gICAgICAgIG5leHRQb3NpdGlvbiA9IChwcm9tU3RlcCArIDEpICogc3RlcDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0UG9zaXRpb24gPSBwcm9tU3RlcCAqIHN0ZXA7XG4gICAgfVxuXG4gICAgY29udGFpbmVyLnNjcm9sbExlZnQgPSBuZXh0UG9zaXRpb247XG59O1xuXG5mdW5jdGlvbiBzY3JvbGxQcmV2KGJsb2NrKSB7XG5cbiAgICBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGJsb2NrKVswXTtcblxuICAgIGlmIChjb250YWluZXIuaGFzQXR0cmlidXRlKCdvZmZzZXQnKSkge1xuICAgICAgICBzdGVwID0gY29udGFpbmVyLmNsaWVudFdpZHRoIC0gcGFyc2VJbnQoY29udGFpbmVyLmdldEF0dHJpYnV0ZSgnb2Zmc2V0JykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ZXAgPSBjb250YWluZXIuY2xpZW50V2lkdGg7XG4gICAgfVxuICAgIHByb21TdGVwID0gTWF0aC5mbG9vcihjb250YWluZXIuc2Nyb2xsTGVmdCAvIHN0ZXApO1xuICAgIGlmIChOdW1iZXIuaXNJbnRlZ2VyKGNvbnRhaW5lci5zY3JvbGxMZWZ0IC8gc3RlcCkpIHtcbiAgICAgICAgbmV4dFBvc2l0aW9uID0gKHByb21TdGVwIC0gMSkgKiBzdGVwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRQb3NpdGlvbiA9IHByb21TdGVwICogc3RlcDtcbiAgICB9XG5cbiAgICBjb250YWluZXIuc2Nyb2xsTGVmdCA9IG5leHRQb3NpdGlvbjtcbn07XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNjcm9sbEJsb2NrcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Njcm9sbC1ibG9jaycpO1xuXG4gICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkge1xuICAgICAgICB2YXIgc2Nyb2xsQmxvY2sgPSBzY3JvbGxCbG9ja3NbaV07XG4gICAgICAgIHZhciBjb250cm9scyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoU3RyaW5nKHNjcm9sbEJsb2NrLmRhdGFzZXQuY29udHJvbHMpKSk7XG4gICAgICAgIHZhciBuZXh0ID0gY29udHJvbHNbMF0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2Nyb2xsLWNvbnRyb2xfX25leHQnKVswXS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdmctc2Nyb2xsLWFycm93JylbMF07XG4gICAgICAgIHZhciBwcmV2ID0gY29udHJvbHNbMF0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2Nyb2xsLWNvbnRyb2xfX3ByZXYnKVswXS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdmctc2Nyb2xsLWFycm93JylbMF07XG4gICAgICAgIGlmIChzY3JvbGxCbG9jay5zY3JvbGxXaWR0aCA9PSBzY3JvbGxCbG9jay5jbGllbnRXaWR0aCkge1xuICAgICAgICAgICAgY29udHJvbHNbMF0ucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzY3JvbGxCbG9ja3NbaV0ub25zY3JvbGwgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIC8vIGxldCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZmF2b3ItZGV2aWNlcycpWzBdXG4gICAgICAgICAgICBpZiAodGhpcy5zY3JvbGxXaWR0aCA9PSB0aGlzLnNjcm9sbExlZnQgKyB0aGlzLmNsaWVudFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgbmV4dC5jbGFzc0xpc3QucmVtb3ZlKCdzdmctc2Nyb2xsLWFycm93X2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIHByZXYuY2xhc3NMaXN0LmFkZCgnc3ZnLXNjcm9sbC1hcnJvd19hY3RpdmUnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zY3JvbGxMZWZ0ID09IDApIHtcbiAgICAgICAgICAgICAgICBuZXh0LmNsYXNzTGlzdC5hZGQoJ3N2Zy1zY3JvbGwtYXJyb3dfYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgcHJldi5jbGFzc0xpc3QucmVtb3ZlKCdzdmctc2Nyb2xsLWFycm93X2FjdGl2ZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXh0LmNsYXNzTGlzdC5hZGQoJ3N2Zy1zY3JvbGwtYXJyb3dfYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgcHJldi5jbGFzc0xpc3QuYWRkKCdzdmctc2Nyb2xsLWFycm93X2FjdGl2ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNjcm9sbEJsb2Nrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBfbG9vcChpKTtcbiAgICB9XG5cbiAgICAvLyDQn9C+0LrQsNC30YvQstCw0LXQvCDQuNC70Lgg0YPQsdC40YDQsNC10Lwg0YHRgtGA0LXQu9C60YMgLSDQvdCw0L/QvtC80LjQvdCw0LvQutGDINCyINCz0LvQsNCy0L3QvtC8INCx0LvQvtC60LVcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdmYXZvci1jYXJkcycpWzBdLm9uc2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVtaW5kZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhcnJvdy1yZW1pbmRlcicpWzBdO1xuICAgICAgICBpZiAodGhpcy5zY3JvbGxUb3AgPT0gMCkge1xuICAgICAgICAgICAgcmVtaW5kZXIuY2xhc3NMaXN0LnJlbW92ZSgnYXJyb3ctcmVtaW5kZXJfaW5hY3RpdmUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbWluZGVyLmNsYXNzTGlzdC5hZGQoJ2Fycm93LXJlbWluZGVyX2luYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gZWxlbS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdmctc2Nyb2xsLWFycm93JylbMF0ucmVtb3ZlKCdzY3JvbGwtY29udHJvbF9hY3RpdmUnKTtcbn0sIGZhbHNlKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZmlsdGVyU2VsZWN0aW9uKFwiYWxsXCIpO1xuXG5mdW5jdGlvbiBmaWx0ZXJTZWxlY3Rpb24oYykge1xuICAgIHZhciB4LCBpO1xuICAgIHggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY2FyZF9ob3Jpc29udGFsLWZpbHRlclwiKTtcbiAgICBpZiAoYyA9PSBcImFsbFwiKSBjID0gXCJcIjtcbiAgICAvLyBBZGQgdGhlIFwiY2FyZF9ob3Jpc29udGFsLWZpbHRlci1zaG93XCIgY2xhc3MgKGRpc3BsYXk6YmxvY2spIHRvIHRoZSBmaWx0ZXJlZCBlbGVtZW50cywgYW5kIHJlbW92ZSB0aGUgXCJjYXJkX2hvcmlzb250YWwtZmlsdGVyLXNob3dcIiBjbGFzcyBmcm9tIHRoZSBlbGVtZW50cyB0aGF0IGFyZSBub3Qgc2VsZWN0ZWRcbiAgICBmb3IgKGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xuICAgICAgICB3M1JlbW92ZUNsYXNzKHhbaV0sIFwiY2FyZF9ob3Jpc29udGFsLWZpbHRlci1zaG93XCIpO1xuICAgICAgICBpZiAoeFtpXS5jbGFzc05hbWUuaW5kZXhPZihjKSA+IC0xKSB3M0FkZENsYXNzKHhbaV0sIFwiY2FyZF9ob3Jpc29udGFsLWZpbHRlci1zaG93XCIpO1xuICAgIH1cbn1cblxuLy8gY2FyZF9ob3Jpc29udGFsLWZpbHRlci1zaG93IGZpbHRlcmVkIGVsZW1lbnRzXG5mdW5jdGlvbiB3M0FkZENsYXNzKGVsZW1lbnQsIG5hbWUpIHtcbiAgICB2YXIgaSwgYXJyMSwgYXJyMjtcbiAgICBhcnIxID0gZWxlbWVudC5jbGFzc05hbWUuc3BsaXQoXCIgXCIpO1xuICAgIGFycjIgPSBuYW1lLnNwbGl0KFwiIFwiKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYXJyMi5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYXJyMS5pbmRleE9mKGFycjJbaV0pID09IC0xKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSArPSBcIiBcIiArIGFycjJbaV07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIEhpZGUgZWxlbWVudHMgdGhhdCBhcmUgbm90IHNlbGVjdGVkXG5mdW5jdGlvbiB3M1JlbW92ZUNsYXNzKGVsZW1lbnQsIG5hbWUpIHtcbiAgICB2YXIgaSwgYXJyMSwgYXJyMjtcbiAgICBhcnIxID0gZWxlbWVudC5jbGFzc05hbWUuc3BsaXQoXCIgXCIpO1xuICAgIGFycjIgPSBuYW1lLnNwbGl0KFwiIFwiKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYXJyMi5sZW5ndGg7IGkrKykge1xuICAgICAgICB3aGlsZSAoYXJyMS5pbmRleE9mKGFycjJbaV0pID4gLTEpIHtcbiAgICAgICAgICAgIGFycjEuc3BsaWNlKGFycjEuaW5kZXhPZihhcnIyW2ldKSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudC5jbGFzc05hbWUgPSBhcnIxLmpvaW4oXCIgXCIpO1xufVxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciBidG5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInNlbGVjdC1maWx0ZXJfX2l0ZW1cIik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidG5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGJ0bnNbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic2VsZWN0LWZpbHRlcl9faXRlbV9hY3RpdmVcIilbMF0uY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdC1maWx0ZXJfX2l0ZW1fYWN0aXZlXCIpO1xuICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKFwic2VsZWN0LWZpbHRlcl9faXRlbV9hY3RpdmVcIik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0sIGZhbHNlKTsiXX0=
